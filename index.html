<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>CB POKER 111111111DEBUG</title>
    <script src="https://unpkg.com/playroomkit@0.0.12/dist/playroomkit.js" crossorigin="anonymous"></script>
    <style>
        body { background: #121212; color: white; text-align: center; font-family: sans-serif; padding-top: 50px; }
        #status { color: gold; margin-bottom: 20px; padding: 0 20px; }
        #start-btn { padding: 20px 40px; font-size: 1.2rem; background: #27ae60; color: white; border: none; border-radius: 10px; cursor: pointer; }
        #start-btn:disabled { background: #555; cursor: not-allowed; }
        .error-msg { color: #ff4d4d; font-size: 14px; margin-top: 10px; }
    </style>
</head>
<body>

    <div id="status">æ­£åœ¨æ£€æŸ¥æ¸¸æˆå¼•æ“åŠ è½½çŠ¶æ€...</div>
    <button id="start-btn" onclick="connectGame()">ç‚¹å‡»è¿›å…¥æ¸¸æˆ</button>
    <div id="debug-info" class="error-msg"></div>

    <script>
        // æ£€æŸ¥è„šæœ¬æ˜¯å¦åŠ è½½æˆåŠŸ
        window.onload = function() {
            const btn = document.getElementById("start-btn");
            const status = document.getElementById("status");
            
            if (typeof Playroom !== 'undefined') {
                status.innerText = "âœ… å¼•æ“åŠ è½½æˆåŠŸï¼è¯·ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®å¼€å§‹ã€‚";
                console.log("Playroom è½½å…¥æˆåŠŸ");
            } else {
                status.innerText = "âŒ å¼•æ“åŠ è½½å¤±è´¥ï¼";
                document.getElementById("debug-info").innerText = "åŸå› ï¼šæ— æ³•ä» CDN è·å– Playroom è„šæœ¬ã€‚è¯·æ£€æŸ¥æ˜¯å¦æœ‰å¹¿å‘Šæ‹¦æˆªå™¨ï¼ˆAdBlockï¼‰å±è”½äº†è„šæœ¬ï¼Œæˆ–å°è¯•åˆ‡æ¢ç½‘ç»œã€‚";
                btn.disabled = true;
                btn.style.background = "#333";
            }
        };

        async function connectGame() {
            const status = document.getElementById("status");
            status.innerText = "æ­£åœ¨å‘¼å«æœåŠ¡å™¨ï¼Œè¯·ç¨å...";

            try {
                // å¯åŠ¨å¼•æ“
                await Playroom.insertCoin({
                    gameId: "cb_poker_v1",
                    skipLobby: false
                });
                
                status.innerText = "ğŸ‰ è¿æ¥æˆåŠŸï¼";
                document.getElementById("start-btn").style.display = "none";

            } catch (e) {
                status.innerText = "è¿æ¥å‡ºé”™ï¼";
                document.getElementById("debug-info").innerText = e.message;
            }
        }
    </script>
</body>
</html>
